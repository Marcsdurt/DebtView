<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <script src="theme.js"></script>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DebtView â€” ConfiguraÃ§Ãµes</title>
  <link rel="icon" type="image/x-icon" href="icons/favicon.ico"/>
  <meta name="theme-color" content="#0d0d0f"/>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,700;1,300&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="theme.css"/>
  <link rel="stylesheet" href="configuracoes.css"/>
</head>
<body>

<header>
  <div class="logo">Debt<span>View</span></div>
  <div class="header-right">
    <a href="index.html" class="btn btn-ghost" style="text-decoration:none">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/>
      </svg>
      Voltar
    </a>
  </div>
</header>

<nav class="mobile-nav">
  <div class="mobile-nav-inner">
    <a href="index.html" class="mobile-nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="5" width="20" height="14" rx="2"/></svg>
      DÃ­vidas
    </a>
    <a href="historico.html" class="mobile-nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
      Pagas
    </a>
    <a href="porquinho.html" class="mobile-nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="9"/><path d="M12 8v4l3 3"/>
      </svg>
      Cofre
    </a>
    <button class="mobile-nav-btn active" disabled style="opacity:.5;cursor:default">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"/>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
      </svg>
      Config
    </button>
  </div>
</nav>

<main class="cfg-main">

  <div class="cfg-hero">
    <div class="cfg-hero-icon">âš™ï¸</div>
    <div>
      <div class="cfg-hero-title">ConfiguraÃ§Ãµes</div>
      <div class="cfg-hero-sub">PreferÃªncias e dados do DebtView</div>
    </div>
  </div>

  <!-- â”€â”€ TUTORIAL â”€â”€ -->
  <div class="cfg-section">
    <div class="cfg-section-header">
      <div class="cfg-section-icon">ğŸ“</div>
      <div>
        <div class="cfg-section-title">Tutorial</div>
        <div class="cfg-section-desc">Guia interativo de como usar o DebtView</div>
      </div>
    </div>

    <div class="cfg-card">
      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">Mostrar tutorial nas pÃ¡ginas</div>
          <div class="cfg-row-sub">A bolinha <span class="cfg-badge">!</span> aparece no canto inferior direito de cada tela</div>
        </div>
        <button class="toggle-btn" id="tutToggle" onclick="toggleTutorial()">
          <div class="toggle-thumb"></div>
        </button>
      </div>

      <div class="cfg-divider"></div>

      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">PÃ¡ginas jÃ¡ visitadas no tour</div>
          <div class="cfg-row-sub" id="tutPaginasVistas">â€”</div>
        </div>
        <button class="cfg-btn-sm" onclick="resetarTodosTutoriais()">Resetar tudo</button>
      </div>

      <div class="cfg-tours-grid" id="tutToursGrid"></div>
    </div>
  </div>

  <!-- â”€â”€ DADOS â”€â”€ -->
  <div class="cfg-section">
    <div class="cfg-section-header">
      <div class="cfg-section-icon">ğŸ’¾</div>
      <div>
        <div class="cfg-section-title">Dados</div>
        <div class="cfg-section-desc">Exportar, importar e gerenciar backups</div>
      </div>
    </div>

    <div class="cfg-card">
      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">Exportar todos os dados</div>
          <div class="cfg-row-sub">Arquivo <code>.json</code> com dÃ­vidas ativas, pagas e cofre</div>
        </div>
        <button class="cfg-btn-sm accent" onclick="exportarDados()">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/>
          </svg>
          Exportar
        </button>
      </div>

      <div class="cfg-divider"></div>

      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">Backup automÃ¡tico</div>
          <div class="cfg-row-sub">Lembrete a cada 7 dias para exportar</div>
        </div>
        <button class="toggle-btn" id="autoBackupToggle" onclick="toggleAutoBackupCfg()">
          <div class="toggle-thumb"></div>
        </button>
      </div>

      <div class="cfg-divider"></div>

      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">Resumo dos dados</div>
          <div class="cfg-row-sub" id="cfgResumo">â€”</div>
        </div>
      </div>
    </div>
  </div>

  <!-- â”€â”€ APARÃŠNCIA â”€â”€ -->
  <div class="cfg-section">
    <div class="cfg-section-header">
      <div class="cfg-section-icon">ğŸ¨</div>
      <div>
        <div class="cfg-section-title">AparÃªncia</div>
        <div class="cfg-section-desc">PreferÃªncias visuais do app</div>
      </div>
    </div>

    <div class="cfg-card">
      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">Tema</div>
          <div class="cfg-row-sub" id="themeLabel">Claro (Light)</div>
        </div>
        <div style="display:flex;align-items:center;gap:10px">
          <span style="font-size:13px;color:var(--text-muted)">â˜€ï¸</span>
          <button class="toggle-btn" id="themeToggle" onclick="toggleTheme()">
            <div class="toggle-thumb"></div>
          </button>
          <span style="font-size:13px;color:var(--text-muted)">ğŸŒ™</span>
        </div>
      </div>

      <div class="cfg-divider"></div>

      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label">AnimaÃ§Ãµes reduzidas</div>
          <div class="cfg-row-sub">Desativa efeitos de movimento nas telas</div>
        </div>
        <button class="toggle-btn" id="animToggle" onclick="toggleAnim()">
          <div class="toggle-thumb"></div>
        </button>
      </div>
    </div>
  </div>

  <!-- â”€â”€ SOBRE â”€â”€ -->
  <div class="cfg-section">
    <div class="cfg-section-header">
      <div class="cfg-section-icon">â„¹ï¸</div>
      <div>
        <div class="cfg-section-title">Sobre</div>
        <div class="cfg-section-desc">InformaÃ§Ãµes do aplicativo</div>
      </div>
    </div>

    <div class="cfg-card">
      <div class="cfg-about">
        <div class="cfg-about-logo">Debt<span>View</span></div>
        <div class="cfg-about-ver">v1.0 â€” App local, sem servidor</div>
        <div class="cfg-about-desc">Seus dados ficam <strong>100% no seu dispositivo</strong>, nunca sÃ£o enviados pra nenhum servidor. FaÃ§a backups regulares para nÃ£o perder nada.</div>
        <div class="cfg-about-tags">
          <span>ğŸ”’ Privado</span>
          <span>ğŸ“´ Offline</span>
          <span>ğŸ†“ Gratuito</span>
        </div>
      </div>
    </div>
  </div>

  <!-- â”€â”€ ZONA DE PERIGO â”€â”€ -->
  <div class="cfg-section">
    <div class="cfg-section-header">
      <div class="cfg-section-icon">âš ï¸</div>
      <div>
        <div class="cfg-section-title">Zona de perigo</div>
        <div class="cfg-section-desc">AÃ§Ãµes irreversÃ­veis</div>
      </div>
    </div>

    <div class="cfg-card cfg-card-danger">
      <div class="cfg-row">
        <div class="cfg-row-info">
          <div class="cfg-row-label" style="color:var(--red)">Apagar todos os dados</div>
          <div class="cfg-row-sub">Remove dÃ­vidas, histÃ³rico, cofre e configuraÃ§Ãµes. NÃ£o pode ser desfeito.</div>
        </div>
        <button class="cfg-btn-sm danger" onclick="confirmarApagarTudo()">Apagar tudo</button>
      </div>
    </div>
  </div>

</main>

<!-- MODAL CONFIRMAR APAGAR -->
<div class="overlay" id="apagarModal" onclick="closeOnBackdrop(event,'apagarModal')">
  <div class="modal modal-sm">
    <div class="modal-header">
      <div class="modal-title">âš ï¸ Apagar tudo?</div>
      <button class="icon-btn" onclick="closeModal('apagarModal')">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <p style="color:var(--text-dim);font-size:14px;line-height:1.6;margin-bottom:20px">
        Isso vai apagar <strong style="color:var(--red)">permanentemente</strong> todos os seus dados:<br>
        dÃ­vidas ativas, histÃ³rico de quitaÃ§Ãµes, cofre e configuraÃ§Ãµes.<br><br>
        Recomendamos <strong>exportar um backup</strong> antes.
      </p>
      <div class="form-actions">
        <button class="btn btn-ghost" onclick="closeModal('apagarModal')">Cancelar</button>
        <button class="btn" style="background:var(--red);color:#fff" onclick="apagarTudo()">
          Sim, apagar tudo
        </button>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast">
  <span id="toastIcon">âœ…</span>
  <span id="toastMsg">Ok!</span>
</div>

<script src="configuracoes.js"></script>
</body>
</html>
