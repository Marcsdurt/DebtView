<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <script src="theme.js"></script>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DebtView â€” Plano de SaÃ­da</title>
  <link rel="icon" type="image/x-icon" href="icons/favicon.ico"/>
  <meta name="theme-color" content="#0d0d0f"/>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="theme.css"/>
  <link rel="stylesheet" href="plano.css"/>
</head>
<body>

<header>
  <div class="logo">Debt<span>View</span></div>
  <div class="header-right">
    <a href="index.html" class="btn btn-ghost" style="text-decoration:none">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/>
      </svg>
      DÃ­vidas
    </a>
      <a href="configuracoes.html" class="btn btn-ghost" style="text-decoration:none;padding:8px 10px" title="ConfiguraÃ§Ãµes">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="3"/>
        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
      </svg>
    </a></div>
</header>

<nav class="mobile-nav">
  <div class="mobile-nav-inner">
    <a href="index.html" class="mobile-nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="5" width="20" height="14" rx="2"/></svg>
      DÃ­vidas
    </a>
    <a href="historico.html" class="mobile-nav-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
      Pagas
    </a>
    <button class="mobile-nav-btn" disabled style="opacity:.5;cursor:default">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      Plano
    </button>
  </div>
</nav>

<main class="plano-main">

  <!-- STEP 1 â€” Tem renda? -->
  <div id="s1" class="pstep">
    <div class="step-emoji">ğŸ’¼</div>
    <h1 class="step-h1">VocÃª tem alguma fonte de renda?</h1>
    <p class="step-p">Pode ser salÃ¡rio, freela, bico, aluguel â€” qualquer coisa que entra no seu bolso.</p>
    <div class="choice-row">
      <button class="choice-no" onclick="goStep('ssemrenda')">
        <span>ğŸ˜•</span>
        NÃ£o agora
      </button>
      <button class="choice-yes" onclick="goStep('s2')">
        <span>ğŸ’°</span>
        Sim, tenho!
      </button>
    </div>

    <!-- Planos salvos â€” balÃµes flutuantes -->
    <div id="planosSalvosWrap" style="display:none">
      <div class="ps-section-label">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
        Planos salvos
      </div>
      <div id="planosSalvosList" class="planos-baloes"></div>
    </div>
  </div>

  <!-- SEM RENDA -->
  <div id="ssemrenda" class="pstep" style="display:none">
    <div class="step-emoji">ğŸ˜•</div>
    <h1 class="step-h1">Sem renda por enquanto</h1>
    <p class="step-p">Tudo bem. Quando tiver uma renda, volte aqui pra ver em quanto tempo vocÃª consegue se livrar das dÃ­vidas.</p>
    <a href="index.html" class="btn-next" style="text-decoration:none">â† Ver minhas dÃ­vidas</a>
  </div>

  <!-- STEP 2 â€” Cadastrar renda -->
  <div id="s2" class="pstep" style="display:none">
    <button class="back-btn" onclick="goStep('s1')">â† Voltar</button>
    <div class="step-emoji">âœï¸</div>
    <h1 class="step-h1">Me conta sobre sua renda</h1>
    <p class="step-p">NÃ£o precisa ser exato â€” uma estimativa jÃ¡ resolve.</p>

    <div class="form-stack">

      <div class="fgroup">
        <label class="flabel">Como vocÃª chama essa renda?</label>
        <input class="finput" type="text" id="rNome" placeholder="Ex: SalÃ¡rio, Freela, Bico..." maxlength="40"/>
      </div>

      <div class="fgroup">
        <label class="flabel">Quanto vocÃª recebe?</label>
        <div class="money-wrap">
          <span class="money-prefix">R$</span>
          <input class="finput money-input" type="number" id="rValor" placeholder="0,00" min="1" step="0.01" oninput="onRendaChange()"/>
        </div>
      </div>

      <div class="fgroup">
        <label class="flabel">VocÃª recebe...</label>
        <div class="freq-grid">
          <label class="freq-card">
            <input type="radio" name="freq" value="mes" checked onchange="onRendaChange()"/>
            <div class="freq-inner"><span>ğŸ“…</span><span>Por mÃªs</span></div>
          </label>
          <label class="freq-card">
            <input type="radio" name="freq" value="semana" onchange="onRendaChange()"/>
            <div class="freq-inner"><span>ğŸ“†</span><span>Por semana</span></div>
          </label>
          <label class="freq-card">
            <input type="radio" name="freq" value="dia" onchange="onRendaChange()"/>
            <div class="freq-inner"><span>ğŸ”¢</span><span>Por dia</span></div>
          </label>
        </div>
      </div>

      <!-- dias da semana â€” sÃ³ aparece em "por dia" -->
      <div class="fgroup" id="diasWrap" style="display:none">
        <label class="flabel">Quais dias vocÃª trabalha?</label>
        <div class="dias-row">
          <label class="dia-pill"><input type="checkbox" value="1" onchange="onRendaChange()"/><span>Seg</span></label>
          <label class="dia-pill"><input type="checkbox" value="2" onchange="onRendaChange()"/><span>Ter</span></label>
          <label class="dia-pill"><input type="checkbox" value="3" onchange="onRendaChange()"/><span>Qua</span></label>
          <label class="dia-pill"><input type="checkbox" value="4" onchange="onRendaChange()"/><span>Qui</span></label>
          <label class="dia-pill"><input type="checkbox" value="5" onchange="onRendaChange()"/><span>Sex</span></label>
          <label class="dia-pill"><input type="checkbox" value="6" onchange="onRendaChange()"/><span>SÃ¡b</span></label>
          <label class="dia-pill"><input type="checkbox" value="0" onchange="onRendaChange()"/><span>Dom</span></label>
        </div>
      </div>

      <!-- preview mensal -->
      <div class="renda-preview" id="rendaPreview" style="display:none">
        <div class="rp-top">Isso equivale a</div>
        <div class="rp-valor" id="rendaPreviewVal">R$ 0</div>
        <div class="rp-bot">por mÃªs</div>
      </div>

      <!-- rendas jÃ¡ salvas -->
      <div id="rendasSalvas" style="display:none">
        <div class="salvas-label">Rendas adicionadas:</div>
        <div id="rendasSalvasList"></div>
      </div>

      <div class="form-actions-row">
        <button class="btn-add" onclick="adicionarRenda()">+ Adicionar mais uma renda</button>
        <button class="btn-next" id="btnNext2" onclick="goStep('s3')" disabled>Continuar â†’</button>
      </div>

    </div>
  </div>

  <!-- STEP 3 â€” Slider de % -->
  <div id="s3" class="pstep" style="display:none">
    <button class="back-btn" onclick="goStep('s2')">â† Voltar</button>
    <div class="step-emoji">ğŸ¯</div>
    <h1 class="step-h1">Quanto vocÃª consegue separar pras dÃ­vidas?</h1>
    <p class="step-p">NinguÃ©m usa tudo que ganha pra pagar dÃ­vida. Seja honesto â€” isso Ã© pra te ajudar.</p>

    <div class="renda-badge" id="rendaBadge"></div>

    <div class="slider-block">
      <div class="slider-pct" id="sliderPct">20%</div>
      <div class="slider-reais" id="sliderReais">R$ 0</div>
      <div class="slider-sobra" id="sliderSobra"></div>

      <input type="range" id="pctSlider" class="big-slider"
             min="5" max="80" step="5" value="20"
             oninput="onSlider()"/>

      <div class="slider-track-labels">
        <span>5%</span>
        <span class="safe-badge">Ideal: 20â€“40%</span>
        <span>80%</span>
      </div>

      <div id="sliderAlert" class="slider-alert" style="display:none"></div>
    </div>

    <button class="btn-next" onclick="goStep('s4')">Ver meu plano de saÃ­da â†’</button>
  </div>

  <!-- STEP 4 â€” RESULTADO -->
  <div id="s4" class="pstep" style="display:none">
    <button class="back-btn" onclick="goStep('s3')">â† Ajustar</button>

    <!-- Card da libertaÃ§Ã£o -->
    <div class="lib-card" id="libCard"></div>

    <!-- AnÃ¡lise -->
    <div class="bloco" id="analiseBloco"></div>

    <!-- Linha do tempo -->
    <div class="bloco" id="timelineBloco"></div>

    <!-- GrÃ¡fico de queda da dÃ­vida -->
    <div class="bloco" id="graficoBloco"></div>

    <!-- Ordem de pagamento -->
    <div class="bloco" id="ordemBloco"></div>

    <!-- Salvar plano -->
    <div class="salvar-plano-wrap" id="salvarPlanoWrap">
      <div class="salvar-row">
        <input class="finput salvar-input" type="text" id="planoNome" placeholder="Nome do plano (ex: Plano atual, CenÃ¡rio conservador...)"/>
        <button class="btn-salvar" onclick="salvarPlano()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
          Salvar plano
        </button>
      </div>
      <div class="salvar-hint">VocÃª poderÃ¡ acessar esse plano direto na tela inicial.</div>
    </div>

    <button class="btn-refazer" onclick="goStep('s1'); resetForm()">â†º Recalcular com outros valores</button>
  </div>

</main>

<div class="toast" id="toast"><span id="toastIcon">âœ…</span><span id="toastMsg">Ok!</span></div>

<link rel="stylesheet" href="tutorial.css"/>
<script src="plano.js"></script>
<script src="tutorial.js"></script>
</body>
</html>